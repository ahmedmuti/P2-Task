import{a as A,b as M,c as s,d as B,e as P,g as F,h as O,i as T,j as q,k as N,l as k,m as G,n as V,o as I,p as L,r as D}from"./chunk-UDLBRQ3V.js";import{a as S,b as w}from"./chunk-SN6GRNMG.js";import{$ as i,E as o,Fa as h,Ga as E,J as m,L as c,O as l,S as r,T as n,U as p,W as g,X as f,ba as v,ha as x,ja as u,u as _,v as C,va as y}from"./chunk-NIPSTPOT.js";var b=e=>({"is-invalid":e});function R(e,d){if(e&1&&(r(0,"div",10)(1,"span",42),i(2,"error_outline"),n(),i(3),n()),e&2){let a=f();o(3),v(" ",a.errorMessage," ")}}function Y(e,d){e&1&&i(0," Full name is required ")}function z(e,d){if(e&1&&(r(0,"div",16),m(1,Y,1,0),n()),e&2){let a=f();o(),l(a.f.name.errors.required?1:-1)}}function H(e,d){e&1&&i(0," Email is required ")}function $(e,d){e&1&&i(0," Please enter a valid email address ")}function J(e,d){if(e&1&&(r(0,"div",16),m(1,H,1,0)(2,$,1,0),n()),e&2){let a=f();o(),l(a.f.email.errors.required?1:-1),o(),l(a.f.email.errors.email?2:-1)}}function K(e,d){e&1&&i(0," Age is required ")}function Q(e,d){e&1&&i(0," Age must be between 18 and 100 ")}function U(e,d){if(e&1&&(r(0,"div",16),m(1,K,1,0)(2,Q,1,0),n()),e&2){let a=f();o(),l(a.f.age.errors.required?1:-1),o(),l(a.f.age.errors.min||a.f.age.errors.max?2:-1)}}function W(e,d){e&1&&i(0," Gender is required ")}function X(e,d){if(e&1&&(r(0,"div",16),m(1,W,1,0),n()),e&2){let a=f();o(),l(a.f.gender.errors.required?1:-1)}}function Z(e,d){e&1&&i(0," Phone number is required ")}function ee(e,d){if(e&1&&(r(0,"div",16),m(1,Z,1,0),n()),e&2){let a=f();o(),l(a.f.phone.errors.required?1:-1)}}function ne(e,d){e&1&&i(0," Budget is required ")}function te(e,d){e&1&&i(0," Budget must be a positive number ")}function ie(e,d){if(e&1&&(r(0,"div",16),m(1,ne,1,0)(2,te,1,0),n()),e&2){let a=f();o(),l(a.f.budget.errors.required?1:-1),o(),l(a.f.budget.errors.min?2:-1)}}function oe(e,d){e&1&&i(0," Power is required ")}function re(e,d){e&1&&i(0," Power must be between 1 and 100 ")}function ae(e,d){if(e&1&&(r(0,"div",16),m(1,oe,1,0)(2,re,1,0),n()),e&2){let a=f();o(),l(a.f.power.errors.required?1:-1),o(),l(a.f.power.errors.min||a.f.power.errors.max?2:-1)}}function de(e,d){e&1&&(p(0,"span",43),i(1," Creating... "))}function le(e,d){e&1&&(r(0,"span",9),i(1,"add"),n(),i(2," Create Beneficiary "))}var j=class e{fb=_(L);beneficiaryService=_(w);router=_(h);Gender=S;beneficiaryForm;loading=!1;submitted=!1;errorMessage="";constructor(){this.beneficiaryForm=this.fb.group({name:["",s.required],email:["",[s.required,s.email]],age:["",[s.required,s.min(18),s.max(100)]],gender:["",s.required],phone:["",s.required],budget:["",[s.required,s.min(0)]],power:["",[s.required,s.min(1),s.max(100)]],isApproved:[!0]})}get f(){return this.beneficiaryForm.controls}onSubmit(){this.submitted=!0,this.errorMessage="",!this.beneficiaryForm.invalid&&(this.loading=!0,this.beneficiaryService.addBeneficiary(this.beneficiaryForm.value).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/admin/beneficiaries"])},error:d=>{this.loading=!1,this.errorMessage=d.message||"Failed to create beneficiary"}}))}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=C({type:e,selectors:[["app-add-beneficiary"]],standalone:!0,features:[x],decls:79,vars:35,consts:[[1,"container","py-5","animate__animated","animate__fadeIn"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"card","shadow-lg","border-0","rounded-3","overflow-hidden"],[1,"card-body","p-5"],[1,"d-flex","justify-content-between","align-items-center","mb-5"],[1,"fw-bold","mb-0","text-primary"],[1,"text-muted"],["routerLink","/admin/beneficiaries",1,"btn","btn-outline-secondary","rounded-pill","px-4"],[1,"material-icons","me-2"],["role","alert",1,"alert","alert-danger","d-flex","align-items-center","py-3","px-4","rounded-3","shadow-sm"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row","g-4"],[1,"col-md-6"],["for","name",1,"form-label","fw-medium"],["type","text","id","name","formControlName","name","placeholder","Enter full name",1,"form-control","rounded-3",3,"ngClass"],[1,"invalid-feedback"],["for","email",1,"form-label","fw-medium"],["type","email","id","email","formControlName","email","placeholder","Enter email address",1,"form-control","rounded-3",3,"ngClass"],["for","age",1,"form-label","fw-medium"],["type","number","id","age","formControlName","age","placeholder","Enter age","min","18","max","100",1,"form-control","rounded-3",3,"ngClass"],["for","gender",1,"form-label","fw-medium"],["id","gender","formControlName","gender",1,"form-select","rounded-3",3,"ngClass"],["value","","disabled","","selected",""],[3,"value"],["for","phone",1,"form-label","fw-medium"],["type","tel","id","phone","formControlName","phone","placeholder","Enter phone number",1,"form-control","rounded-3",3,"ngClass"],["for","budget",1,"form-label","fw-medium"],[1,"input-group"],[1,"input-group-text","rounded-start-3"],["type","number","id","budget","formControlName","budget","placeholder","Enter budget amount","min","0","step","100",1,"form-control","rounded-end-3",3,"ngClass"],["for","power",1,"form-label","fw-medium"],["type","number","id","power","formControlName","power","placeholder","Enter power level","min","1","max","100",1,"form-control","rounded-start-3",3,"ngClass"],[1,"input-group-text","rounded-end-3"],[1,"col-12"],[1,"form-check"],["type","checkbox","id","isApproved","formControlName","isApproved",1,"form-check-input"],["for","isApproved",1,"form-check-label"],[1,"col-12","mt-5"],[1,"d-grid","gap-3","d-md-flex","justify-content-md-end"],["type","button","routerLink","/admin/beneficiaries",1,"btn","btn-outline-secondary","rounded-pill","px-5","py-2"],["type","submit",1,"btn","btn-primary","rounded-pill","px-5","py-2",3,"disabled"],[1,"material-icons","me-2","text-danger",2,"font-size","1.5rem"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h2",6),i(8,"Add New Beneficiary"),n(),r(9,"p",7),i(10,"Create a new beneficiary profile"),n()(),r(11,"a",8)(12,"span",9),i(13,"arrow_back"),n(),i(14," Back to List "),n()(),m(15,R,4,1,"div",10),r(16,"form",11),g("ngSubmit",function(){return t.onSubmit()}),r(17,"div",12)(18,"div",13)(19,"label",14),i(20,"Full Name"),n(),p(21,"input",15),m(22,z,2,1,"div",16),n(),r(23,"div",13)(24,"label",17),i(25,"Email"),n(),p(26,"input",18),m(27,J,3,2,"div",16),n(),r(28,"div",13)(29,"label",19),i(30,"Age"),n(),p(31,"input",20),m(32,U,3,2,"div",16),n(),r(33,"div",13)(34,"label",21),i(35,"Gender"),n(),r(36,"select",22)(37,"option",23),i(38,"Select gender"),n(),r(39,"option",24),i(40,"Male"),n(),r(41,"option",24),i(42,"Female"),n(),r(43,"option",24),i(44,"Other"),n()(),m(45,X,2,1,"div",16),n(),r(46,"div",13)(47,"label",25),i(48,"Phone Number"),n(),p(49,"input",26),m(50,ee,2,1,"div",16),n(),r(51,"div",13)(52,"label",27),i(53,"Budget"),n(),r(54,"div",28)(55,"span",29),i(56,"$"),n(),p(57,"input",30),m(58,ie,3,2,"div",16),n()(),r(59,"div",13)(60,"label",31),i(61,"Power (1-100)"),n(),r(62,"div",28),p(63,"input",32),r(64,"span",33),i(65,"%"),n(),m(66,ae,3,2,"div",16),n()(),r(67,"div",34)(68,"div",35),p(69,"input",36),r(70,"label",37),i(71," Approve beneficiary immediately "),n()()(),r(72,"div",38)(73,"div",39)(74,"button",40),i(75," Cancel "),n(),r(76,"button",41),m(77,de,2,0)(78,le,3,0),n()()()()()()()()()()),a&2&&(o(15),l(t.errorMessage?15:-1),o(),c("formGroup",t.beneficiaryForm),o(5),c("ngClass",u(21,b,t.submitted&&t.f.name.errors)),o(),l(t.submitted&&t.f.name.errors?22:-1),o(4),c("ngClass",u(23,b,t.submitted&&t.f.email.errors)),o(),l(t.submitted&&t.f.email.errors?27:-1),o(4),c("ngClass",u(25,b,t.submitted&&t.f.age.errors)),o(),l(t.submitted&&t.f.age.errors?32:-1),o(4),c("ngClass",u(27,b,t.submitted&&t.f.gender.errors)),o(3),c("value",t.Gender.MALE),o(2),c("value",t.Gender.FEMALE),o(2),c("value",t.Gender.OTHER),o(2),l(t.submitted&&t.f.gender.errors?45:-1),o(4),c("ngClass",u(29,b,t.submitted&&t.f.phone.errors)),o(),l(t.submitted&&t.f.phone.errors?50:-1),o(7),c("ngClass",u(31,b,t.submitted&&t.f.budget.errors)),o(),l(t.submitted&&t.f.budget.errors?58:-1),o(5),c("ngClass",u(33,b,t.submitted&&t.f.power.errors)),o(3),l(t.submitted&&t.f.power.errors?66:-1),o(10),c("disabled",t.loading),o(),l(t.loading?77:78))},dependencies:[D,F,k,G,M,O,A,N,B,P,I,V,T,q,y,E],styles:["[_nghost-%COMP%]{display:block}.card[_ngcontent-%COMP%]{border:none;border-radius:16px;box-shadow:0 10px 30px #0000001a,0 1px 3px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 35px #00000026,0 3px 10px #00000026}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border-radius:12px;padding:.75rem 1.25rem;border:1px solid rgba(0,0,0,.1);transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3f51b533;border-color:#3f51b5;outline:none}.input-group-text[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid rgba(0,0,0,.1);color:#6c757d}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.75rem;color:#495057}.btn-primary[_ngcontent-%COMP%]{background-color:#3f51b5;border:none;box-shadow:0 4px 10px #3f51b54d;transition:transform .2s ease,box-shadow .2s ease,background-color .2s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#303f9f;transform:translateY(-2px);box-shadow:0 6px 15px #3f51b566}.btn-outline-secondary[_ngcontent-%COMP%]{border-color:#ced4da;color:#6c757d;transition:border-color .2s ease,color .2s ease,transform .2s ease}.btn-outline-secondary[_ngcontent-%COMP%]:hover{border-color:#b1b8be;color:#495057;transform:translateY(-2px)}.form-check-input[_ngcontent-%COMP%]{margin-top:.2rem}.form-check-label[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.alert[_ngcontent-%COMP%]{border-radius:12px;border:none;box-shadow:0 4px 10px #0000000d}.transition-hover[_ngcontent-%COMP%]:hover{transform:translate(5px)}.animate__animated[_ngcontent-%COMP%]{animation-duration:1s}.animate__fadeIn[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_fadeIn}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};export{j as AddBeneficiaryComponent};
